#!/bin/bash
# Auto-fixing pre-commit hook - fixes issues instead of blocking

echo "ðŸ”§ Auto-formatting your code..."

# Run Black formatter (auto-fixes)
if command -v black &> /dev/null; then
    black . --quiet 2>/dev/null
    git add -u  # Stage the formatting changes
fi

# Run Ruff with auto-fix (fixes what it can)
if command -v ruff &> /dev/null; then
    ruff check --fix --quiet . 2>/dev/null
    git add -u  # Stage the fixes
fi

# Run isort (auto-fixes imports)
if command -v isort &> /dev/null; then
    isort . --quiet 2>/dev/null
    git add -u  # Stage the import fixes
fi

echo "âœ… Code formatted and ready to commit!"

# Always exit 0 so commit proceeds
exit 0
