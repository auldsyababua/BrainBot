# Story 2.5: Complete Removal of Render References

## Status
Draft

## Story
**As a** developer,
**I want** all Render.com references completely removed from the codebase,
**so that** the project reflects our Cloudflare-first architecture with no legacy deployment configurations

## Acceptance Criteria
1. [ ] Delete render.yaml deployment configuration
2. [ ] Remove all Render environment variables from documentation
3. [ ] Delete any Render-specific deployment scripts
4. [ ] Update all deployment documentation to Cloudflare-only
5. [ ] Remove Render references from README.md
6. [ ] Update GitHub Actions to remove Render deployment steps
7. [ ] Clean up diagnostic scripts that check Render services
8. [ ] Archive legacy deployment guides for historical reference

## Tasks / Subtasks
- [ ] Task 1: Remove Render configuration files (AC: 1)
  - [ ] Delete render.yaml from project root
  - [ ] Search for and remove any other Render-specific config files
  - [ ] Verify no Render configs exist in docker-compose files
  - [ ] Commit deletion of configuration files

- [ ] Task 2: Clean architecture and documentation files (AC: 2, 4, 5)
  - [ ] Update docs/architecture/tech-stack.md - remove line 39 referencing Render hosting
  - [ ] Update docs/architecture/deployment-architecture.md - remove entire "Production Environment" section (lines 3-21)
  - [ ] Search all docs/architecture/*.md files for "render" references
  - [ ] Update README.md deployment sections
  - [ ] Remove any Render URLs or references from documentation

- [ ] Task 3: Update GitHub Actions workflows (AC: 6)
  - [ ] Check .github/workflows/ for any Render deployment steps
  - [ ] Remove RENDER_API_KEY and RENDER_SERVICE_ID from workflow secrets usage
  - [ ] Update deployment workflows to only reference Cloudflare
  - [ ] Test updated CI/CD pipeline in a feature branch

- [ ] Task 4: Clean diagnostic and deployment scripts (AC: 3, 7)
  - [ ] Search scripts/diagnostics/ for check_render*.sh files
  - [ ] Search scripts/deployment/ for render-related scripts
  - [ ] Remove or archive identified Render-specific scripts
  - [ ] Update any health check scripts that reference Render

- [ ] Task 5: Archive legacy deployment documentation (AC: 8)
  - [ ] Create docs/archive/deployment/render/ directory structure
  - [ ] Move (don't delete) any Render-specific deployment guides to archive
  - [ ] Create README.md in archive directory explaining:
    - What was archived and when
    - Why Render was replaced with Cloudflare
    - Date of migration completion
  - [ ] Ensure git history preserves the full audit trail

- [ ] Task 6: Verification and testing (All ACs)
  - [ ] Run grep -r "render" . to verify no Render references remain
  - [ ] Run grep -ri "render.com" . for case-insensitive search
  - [ ] Verify all documentation links work (no broken references)
  - [ ] Run test suite to ensure no functionality broken
  - [ ] Verify deployment still works with Cloudflare-only configuration

## Dev Notes

### Previous Story Insights
Story 2.3 focused on updating documentation to Cloudflare stack. This story (2.4) complements it by removing all Render.com infrastructure references, ensuring clean separation between documentation updates (2.3) and infrastructure cleanup (2.4).

### Files Requiring Updates
Based on architecture documentation review:

**Configuration Files to Delete:**
- `render.yaml` - Main Render deployment configuration [Source: architecture/source-tree.md#line-15]

**Documentation Files to Update:**
- `docs/architecture/tech-stack.md` - Line 39: "Hosting: Render is used for deploying..." [Source: architecture/tech-stack.md#line-39]
- `docs/architecture/deployment-architecture.md` - Lines 3-21: Entire production environment section references Render [Source: architecture/deployment-architecture.md#lines-3-21]
- Any other architecture docs with Render references (requires search)

**Script Locations to Check:**
- `scripts/` directory for deployment and diagnostic scripts [Source: architecture/source-tree.md#line-17]
- Look specifically for patterns: `check_render*.sh`, `deploy-render.sh`, `render_*.sh`

**GitHub Actions Location:**
- `.github/workflows/` directory [Source: architecture/source-tree.md#line-8]
- Check for RENDER_* environment variables and deployment steps

### Environment Variables to Remove
Based on deployment architecture, remove these from all documentation:
- RENDER_SERVICE_NAME
- RENDER_API_KEY (if exists in GitHub secrets docs)
- RENDER_SERVICE_ID (if exists in GitHub secrets docs)
[Source: architecture/deployment-architecture.md#lines-5-21]

### Project Structure Alignment
Per source tree structure:
- Configuration files are at project root level
- Documentation is under docs/ with subdirectories
- Scripts are under scripts/ with subdirectories
- GitHub workflows are under .github/workflows/
[Source: architecture/source-tree.md]

### Testing Requirements
Per testing strategy:
- No specific unit tests needed (configuration removal)
- Run existing test suite to verify no breakage: `pytest`
- Verify CI/CD pipeline in GitHub Actions
- Performance benchmarks should remain unchanged
[Source: architecture/testing-strategy.md#lines-163-185]

### Commit Standards
Per coding standards:
- Follow conventional commit format
- Group related changes in logical commits
- Never commit secrets or sensitive information
- All changes through PR with CI/CD checks passing
[Source: architecture/coding-standards.md#lines-37-39]

## Testing
- **Test Location:** No new tests required (removal task)
- **Verification Command:** `pytest` to ensure no regression
- **CI/CD Validation:** GitHub Actions must pass all checks
- **Manual Verification:** grep searches for "render" strings

## Change Log
| Date | Version | Description | Author |
|------|---------|-------------|--------|
| 2025-08-27 | 1.0 | Initial story creation in BMad format | Scrum Master |

## Dev Agent Record

### Agent Model Used
(To be filled by Dev Agent)

### Debug Log References
(To be filled by Dev Agent)

### Completion Notes List
(To be filled by Dev Agent)

### File List
(To be filled by Dev Agent)

## QA Results
(To be filled by QA Agent)