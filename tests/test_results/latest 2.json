{"created": 1753301724.859519, "duration": 714.798770904541, "exitcode": 0, "root": "/Users/colinaulds/Desktop/projects/markdown-brain-bot", "environment": {}, "summary": {"passed": 13, "skipped": 2, "total": 15, "collected": 15}, "collectors": [{"nodeid": "", "outcome": "passed", "result": [{"nodeid": "tests/system/test_ai_babysitter.py", "type": "Module"}]}, {"nodeid": "tests/system/test_ai_babysitter.py", "outcome": "passed", "result": [{"nodeid": "tests/system/test_ai_babysitter.py::test_no_obvious_memory_leaks", "type": "Coroutine", "lineno": 41}, {"nodeid": "tests/system/test_ai_babysitter.py::test_database_connections_not_leaking", "type": "Coroutine", "lineno": 60}, {"nodeid": "tests/system/test_ai_babysitter.py::test_conversation_history_not_growing_infinitely", "type": "Coroutine", "lineno": 67}, {"nodeid": "tests/system/test_ai_babysitter.py::test_retry_logic_actually_works", "type": "Coroutine", "lineno": 83}, {"nodeid": "tests/system/test_ai_babysitter.py::test_retry_config_actually_applied", "type": "Coroutine", "lineno": 112}, {"nodeid": "tests/system/test_ai_babysitter.py::test_not_calling_api_repeatedly_for_same_request", "type": "Coroutine", "lineno": 126}, {"nodeid": "tests/system/test_ai_babysitter.py::test_not_burning_api_credits", "type": "Coroutine", "lineno": 152}, {"nodeid": "tests/system/test_ai_babysitter.py::test_response_time_reasonable", "type": "Coroutine", "lineno": 177}, {"nodeid": "tests/system/test_ai_babysitter.py::test_cache_actually_works", "type": "Coroutine", "lineno": 188}, {"nodeid": "tests/system/test_ai_babysitter.py::test_core_components_available", "type": "Coroutine", "lineno": 219}, {"nodeid": "tests/system/test_ai_babysitter.py::test_basic_save_search_flow", "type": "Coroutine", "lineno": 239}, {"nodeid": "tests/system/test_ai_babysitter.py::test_errors_dont_crash_bot", "type": "Coroutine", "lineno": 271}, {"nodeid": "tests/system/test_ai_babysitter.py::test_no_unreachable_code", "type": "Coroutine", "lineno": 296}, {"nodeid": "tests/system/test_ai_babysitter.py::test_shared_namespace_mvp", "type": "Coroutine", "lineno": 308}, {"nodeid": "tests/system/test_ai_babysitter.py::test_data_survives_restart", "type": "Coroutine", "lineno": 331}]}], "tests": [{"nodeid": "tests/system/test_ai_babysitter.py::test_no_obvious_memory_leaks", "lineno": 41, "outcome": "passed", "keywords": ["test_no_obvious_memory_leaks", "asyncio", "pytestmark", "test_ai_babysitter.py", "system", "tests", "markdown-brain-bot", ""], "setup": {"duration": 0.023881875000000052, "outcome": "passed"}, "call": {"duration": 563.845580584, "outcome": "passed"}, "teardown": {"duration": 0.01919737499997609, "outcome": "passed"}}, {"nodeid": "tests/system/test_ai_babysitter.py::test_database_connections_not_leaking", "lineno": 60, "outcome": "skipped", "keywords": ["test_database_connections_not_leaking", "asyncio", "pytestmark", "test_ai_babysitter.py", "system", "tests", "markdown-brain-bot", ""], "setup": {"duration": 0.0010878330000423375, "outcome": "passed"}, "call": {"duration": 0.00038854199999605044, "outcome": "skipped", "longrepr": "('/Users/colinaulds/Desktop/projects/markdown-brain-bot/tests/system/test_ai_babysitter.py', 65, 'Skipped: Upstash services use HTTP connections, not persistent connection pools')"}, "teardown": {"duration": 0.005016291000060846, "outcome": "passed"}}, {"nodeid": "tests/system/test_ai_babysitter.py::test_conversation_history_not_growing_infinitely", "lineno": 67, "outcome": "skipped", "keywords": ["test_conversation_history_not_growing_infinitely", "asyncio", "pytestmark", "test_ai_babysitter.py", "system", "tests", "markdown-brain-bot", ""], "setup": {"duration": 0.0004689590000452881, "outcome": "passed"}, "call": {"duration": 0.0001523330000736678, "outcome": "skipped", "longrepr": "('/Users/colinaulds/Desktop/projects/markdown-brain-bot/tests/system/test_ai_babysitter.py', 72, 'Skipped: Test hanging - needs investigation')"}, "teardown": {"duration": 0.0051292499999817665, "outcome": "passed"}}, {"nodeid": "tests/system/test_ai_babysitter.py::test_retry_logic_actually_works", "lineno": 83, "outcome": "passed", "keywords": ["test_retry_logic_actually_works", "asyncio", "pytestmark", "test_ai_babysitter.py", "system", "tests", "markdown-brain-bot", ""], "setup": {"duration": 0.00038204099996619334, "outcome": "passed"}, "call": {"duration": 5.421144750000053, "outcome": "passed"}, "teardown": {"duration": 0.012000124999985928, "outcome": "passed"}}, {"nodeid": "tests/system/test_ai_babysitter.py::test_retry_config_actually_applied", "lineno": 112, "outcome": "passed", "keywords": ["test_retry_config_actually_applied", "asyncio", "pytestmark", "test_ai_babysitter.py", "system", "tests", "markdown-brain-bot", ""], "setup": {"duration": 0.0008372500000177752, "outcome": "passed"}, "call": {"duration": 0.00029095800005052297, "outcome": "passed"}, "teardown": {"duration": 0.009626334000017778, "outcome": "passed"}}, {"nodeid": "tests/system/test_ai_babysitter.py::test_not_calling_api_repeatedly_for_same_request", "lineno": 126, "outcome": "passed", "keywords": ["test_not_calling_api_repeatedly_for_same_request", "asyncio", "pytestmark", "test_ai_babysitter.py", "system", "tests", "markdown-brain-bot", ""], "setup": {"duration": 0.00040658400007487216, "outcome": "passed"}, "call": {"duration": 14.45554654199998, "outcome": "passed"}, "teardown": {"duration": 0.005693708000080733, "outcome": "passed"}}, {"nodeid": "tests/system/test_ai_babysitter.py::test_not_burning_api_credits", "lineno": 152, "outcome": "passed", "keywords": ["test_not_burning_api_credits", "asyncio", "pytestmark", "test_ai_babysitter.py", "system", "tests", "markdown-brain-bot", ""], "setup": {"duration": 0.0009721249999756765, "outcome": "passed"}, "call": {"duration": 5.070075833999908, "outcome": "passed"}, "teardown": {"duration": 0.010197791999985384, "outcome": "passed"}}, {"nodeid": "tests/system/test_ai_babysitter.py::test_response_time_reasonable", "lineno": 177, "outcome": "passed", "keywords": ["test_response_time_reasonable", "asyncio", "pytestmark", "test_ai_babysitter.py", "system", "tests", "markdown-brain-bot", ""], "setup": {"duration": 0.0004085839999561358, "outcome": "passed"}, "call": {"duration": 7.854579124999987, "outcome": "passed"}, "teardown": {"duration": 0.011023874999978034, "outcome": "passed"}}, {"nodeid": "tests/system/test_ai_babysitter.py::test_cache_actually_works", "lineno": 188, "outcome": "passed", "keywords": ["test_cache_actually_works", "asyncio", "pytestmark", "test_ai_babysitter.py", "system", "tests", "markdown-brain-bot", ""], "setup": {"duration": 0.0004976669999905425, "outcome": "passed"}, "call": {"duration": 0.0005490830000098867, "outcome": "passed"}, "teardown": {"duration": 0.005060209000021132, "outcome": "passed"}}, {"nodeid": "tests/system/test_ai_babysitter.py::test_core_components_available", "lineno": 219, "outcome": "passed", "keywords": ["test_core_components_available", "asyncio", "pytestmark", "test_ai_babysitter.py", "system", "tests", "markdown-brain-bot", ""], "setup": {"duration": 0.0005148750000216751, "outcome": "passed"}, "call": {"duration": 0.0001781659999551266, "outcome": "passed"}, "teardown": {"duration": 0.004966124999896238, "outcome": "passed"}}, {"nodeid": "tests/system/test_ai_babysitter.py::test_basic_save_search_flow", "lineno": 239, "outcome": "passed", "keywords": ["test_basic_save_search_flow", "asyncio", "pytestmark", "test_ai_babysitter.py", "system", "tests", "markdown-brain-bot", ""], "setup": {"duration": 0.0003435830000171336, "outcome": "passed"}, "call": {"duration": 21.095922374999986, "outcome": "passed"}, "teardown": {"duration": 0.012736540999981116, "outcome": "passed"}}, {"nodeid": "tests/system/test_ai_babysitter.py::test_errors_dont_crash_bot", "lineno": 271, "outcome": "passed", "keywords": ["test_errors_dont_crash_bot", "asyncio", "pytestmark", "test_ai_babysitter.py", "system", "tests", "markdown-brain-bot", ""], "setup": {"duration": 0.0005958749999308566, "outcome": "passed"}, "call": {"duration": 49.493993208999996, "outcome": "passed"}, "teardown": {"duration": 0.005998916999942594, "outcome": "passed"}}, {"nodeid": "tests/system/test_ai_babysitter.py::test_no_unreachable_code", "lineno": 296, "outcome": "passed", "keywords": ["test_no_unreachable_code", "asyncio", "pytestmark", "test_ai_babysitter.py", "system", "tests", "markdown-brain-bot", ""], "setup": {"duration": 0.0003921249999621068, "outcome": "passed"}, "call": {"duration": 10.48547454200002, "outcome": "passed"}, "teardown": {"duration": 0.012560291999989204, "outcome": "passed"}}, {"nodeid": "tests/system/test_ai_babysitter.py::test_shared_namespace_mvp", "lineno": 308, "outcome": "passed", "keywords": ["test_shared_namespace_mvp", "asyncio", "pytestmark", "test_ai_babysitter.py", "system", "tests", "markdown-brain-bot", ""], "setup": {"duration": 0.0008954169999242367, "outcome": "passed"}, "call": {"duration": 20.99385725000002, "outcome": "passed", "log": [{"name": "src.storage.storage_service", "msg": "Error storing document: {'message': 'duplicate key value violates unique constraint \"brain_bot_documents_file_path_key\"', 'code': '23505', 'hint': None, 'details': 'Key (file_path)=(notes/User 1/shared-data-from-user-1-shared_data_123.md) already exists.'}", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/Users/colinaulds/Desktop/projects/markdown-brain-bot/src/storage/storage_service.py", "filename": "storage_service.py", "module": "storage_service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 128, "funcName": "store_document", "created": 1753301695.29137, "msecs": 291.3699150085449, "relativeCreated": 685770.1728343964, "thread": 8470454016, "threadName": "MainThread", "processName": "MainProcess", "process": 14568}, {"name": "src.core.llm", "msg": "Error creating document: {'message': 'duplicate key value violates unique constraint \"brain_bot_documents_file_path_key\"', 'code': '23505', 'hint': None, 'details': 'Key (file_path)=(notes/User 1/shared-data-from-user-1-shared_data_123.md) already exists.'}", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/Users/colinaulds/Desktop/projects/markdown-brain-bot/src/core/llm.py", "filename": "llm.py", "module": "llm", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 619, "funcName": "execute_function", "created": 1753301695.2925289, "msecs": 292.5288677215576, "relativeCreated": 685771.3317871094, "thread": 8470454016, "threadName": "MainThread", "processName": "MainProcess", "process": 14568}]}, "teardown": {"duration": 0.005266207999966355, "outcome": "passed"}}, {"nodeid": "tests/system/test_ai_babysitter.py::test_data_survives_restart", "lineno": 331, "outcome": "passed", "keywords": ["test_data_survives_restart", "asyncio", "pytestmark", "test_ai_babysitter.py", "system", "tests", "markdown-brain-bot", ""], "setup": {"duration": 0.00040437500001644366, "outcome": "passed"}, "call": {"duration": 15.562839583000027, "outcome": "passed"}, "teardown": {"duration": 0.013321916999984751, "outcome": "passed"}}], "warnings": [{"message": "The 'timeout' parameter is deprecated. Please configure it in the http client instead.", "category": "DeprecationWarning", "when": "runtest", "filename": "/Users/colinaulds/Library/Python/3.9/lib/python/site-packages/supabase/_sync/client.py", "lineno": 303}, {"message": "The 'verify' parameter is deprecated. Please configure it in the http client instead.", "category": "DeprecationWarning", "when": "runtest", "filename": "/Users/colinaulds/Library/Python/3.9/lib/python/site-packages/supabase/_sync/client.py", "lineno": 303}]}